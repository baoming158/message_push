{
    "docs": [
        {
            "location": "/jgsj/",
            "text": "\u7cfb\u7edf\u8bbe\u8ba1\n\n\n\u8bbe\u8ba1\u539f\u5219\n\n\n\n\n\u5361\u7247\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e3b\u8981\u8003\u8651\u5230\u5982\u4e0b\u539f\u5219\uff1a\n\n\n\uff081\uff09\u5c3d\u91cf\u4fdd\u6301\u5404\u6a21\u5757\u3001\u7ec4\u4ef6\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\uff0c\u964d\u4f4e\u8026\u5408\u5ea6\uff1b\n\n\n\uff082\uff09\u4fdd\u6301\u5bf9\u73b0\u6709\u7cfb\u7edf\u7684\u517c\u5bb9\u6027\uff0c\u65b9\u4fbf\u73b0\u6709\u7cfb\u7edf\u8fc1\u79fb\u3001\u63a5\u5165\uff1b\n\n\n\uff083\uff09\u5c3d\u91cf\u8003\u8651\u67b6\u6784\u7684\u6269\u5c55\u6027\u4e0e\u4e1a\u52a1\u7684\u9002\u7528\u6027\uff0c\u65b9\u4fbf\u540e\u7eed\u65b0\u5e94\u7528\u7684\u4f7f\u7528\u3002\n\n\n\n\n\n\n\n\n\u5b89\u5168\u6027\n\n\n\u534f\u8bae\n\n\n\u670d\u52a1\u53ef\u9760\u6027\n\n\n\u65e5\u5fd7\n\n\n\u76d1\u63a7\n\n\n\n\n\n\n\u7ec6\u8282\u70b9\uff1a\n\n\n\u5b89\u5168\u6027\uff1a\n\n\n\u9632\u6b62\u6076\u610f\u653b\u51fb\uff0c\u9700\u8981\u5bf9\u8bf7\u6c42\u505a\u52a0\u5bc6\u5904\u7406(\u6682\u4e14\u8003\u8651\u4f7f\u7528md5\u52a0\u5bc6\uff0c\u81ea\u5b9a\u4e49\u52a0\u5bc6\u89c4\u5219\u3002\u8bf4\u660e\uff1aclient\u7aef\u751f\u6210sign\u503c\uff0c\u8bf7\u6c42\u643a\u5e26sign\u503c\uff0cserver\u7aef\u7ecf\u8fc7\u7b97\u6cd5\u89e3\u5bc6sign\u503c\u9a8c\u8bc1\u3002)\n\n\n\n\u8bf7\u6c42\u534f\u8bae\uff1a\n\n\n\u63a5\u53e3\u5165\u53c2\uff1a\u5361\u7247ID\u3001\u5361\u7247\u7c7b\u578b\u3001\u6765\u6e90\u3001\u64cd\u4f5c\u4eba\u3001\u63a8\u9001\u65f6\u95f4\u3001sign\n\n\n\n\u63a8\u9001\u5185\u5bb9\u9a8c\u8bc1\u5927\u81f4\u5305\u542b\u5982\u4e0b\u51e0\u70b9\uff1a\n\n\n* \u63a8\u9001\u6b21\u6570\u8fc7\u6ee4\uff08\u5206\u4e3a\u667a\u80fd\u63a8\u9001\u3001\u624b\u52a8\u63a8\u9001\uff09\n* \u5224\u65ad\u680f\u76ee\u4fe1\u606f\n* \u673a\u578b\u4fe1\u606f\u5904\u7406\n* \u6d4b\u8bd5\u7ec8\u7aef\u4fe1\u606f\u5904\u7406\n* \u5730\u533a\u4fe1\u606f\u5904\u7406\n* \u9891\u9053\u4fe1\u606f\u5904\u7406\n* \u9ed1\u767d\u540d\u5355\u5904\u7406\n* \u6807\u7b7e\u4fe1\u606f\u5904\u7406\n\n\n\n\u63a8\u9001\u6210\u529f\u8bb0\u5f55\u65e5\u5fd7\u4e0e\u5199\u5e93\uff1a\n\n\n* \u5199\u5165mysql\n* \u5199\u5165\u4e13\u95e8\u65e5\u5fd7\u6587\u4ef6\uff0c\u4f7f\u7528Logstash\u6536\u96c6log\u3001Kibana\u5c55\u73b0\u63a8\u9001\u5386\u53f2\uff08\u7528\u6765\u505a\u5361\u7247\u63a8\u9001\u95ee\u9898\u6392\u67e5\uff09\n\n\n\n\u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\uff1a\n\n\n* \u8bb0\u5f55\u8bbf\u95ee\u4eba\u3001\u8bbf\u95eeIP\u3001\u8bbf\u95ee\u6765\u6e90\u3001\u8bbf\u95ee\u65f6\u95f4\uff0c\u4f7f\u7528kibana\u5c55\u73b0\u8bbf\u95ee\u63a5\u53e3\u60c5\u51b5\n\n\n\n\u670d\u52a1\u76d1\u63a7\uff1a\n\n\n\u76d1\u63a7\u670d\u52a1\u662f\u5426\u53ef\u7528\uff0c\u5982\u6709\u5f02\u5e38\u53d1\u9001\u77ed\u4fe1\u3001\u90ae\u7bb1\u63d0\u9192",
            "title": "\u67b6\u6784\u8bbe\u8ba1"
        },
        {
            "location": "/jgsj/#_1",
            "text": "",
            "title": "\u7cfb\u7edf\u8bbe\u8ba1"
        },
        {
            "location": "/jgsj/#_2",
            "text": "\u5361\u7247\u7cfb\u7edf\u7684\u8bbe\u8ba1\u4e3b\u8981\u8003\u8651\u5230\u5982\u4e0b\u539f\u5219\uff1a  \uff081\uff09\u5c3d\u91cf\u4fdd\u6301\u5404\u6a21\u5757\u3001\u7ec4\u4ef6\u4e4b\u95f4\u7684\u72ec\u7acb\u6027\uff0c\u964d\u4f4e\u8026\u5408\u5ea6\uff1b  \uff082\uff09\u4fdd\u6301\u5bf9\u73b0\u6709\u7cfb\u7edf\u7684\u517c\u5bb9\u6027\uff0c\u65b9\u4fbf\u73b0\u6709\u7cfb\u7edf\u8fc1\u79fb\u3001\u63a5\u5165\uff1b  \uff083\uff09\u5c3d\u91cf\u8003\u8651\u67b6\u6784\u7684\u6269\u5c55\u6027\u4e0e\u4e1a\u52a1\u7684\u9002\u7528\u6027\uff0c\u65b9\u4fbf\u540e\u7eed\u65b0\u5e94\u7528\u7684\u4f7f\u7528\u3002     \u5b89\u5168\u6027  \u534f\u8bae  \u670d\u52a1\u53ef\u9760\u6027  \u65e5\u5fd7  \u76d1\u63a7",
            "title": "\u8bbe\u8ba1\u539f\u5219"
        },
        {
            "location": "/jgsj/#_3",
            "text": "\u5b89\u5168\u6027\uff1a  \u9632\u6b62\u6076\u610f\u653b\u51fb\uff0c\u9700\u8981\u5bf9\u8bf7\u6c42\u505a\u52a0\u5bc6\u5904\u7406(\u6682\u4e14\u8003\u8651\u4f7f\u7528md5\u52a0\u5bc6\uff0c\u81ea\u5b9a\u4e49\u52a0\u5bc6\u89c4\u5219\u3002\u8bf4\u660e\uff1aclient\u7aef\u751f\u6210sign\u503c\uff0c\u8bf7\u6c42\u643a\u5e26sign\u503c\uff0cserver\u7aef\u7ecf\u8fc7\u7b97\u6cd5\u89e3\u5bc6sign\u503c\u9a8c\u8bc1\u3002)  \u8bf7\u6c42\u534f\u8bae\uff1a  \u63a5\u53e3\u5165\u53c2\uff1a\u5361\u7247ID\u3001\u5361\u7247\u7c7b\u578b\u3001\u6765\u6e90\u3001\u64cd\u4f5c\u4eba\u3001\u63a8\u9001\u65f6\u95f4\u3001sign  \u63a8\u9001\u5185\u5bb9\u9a8c\u8bc1\u5927\u81f4\u5305\u542b\u5982\u4e0b\u51e0\u70b9\uff1a  * \u63a8\u9001\u6b21\u6570\u8fc7\u6ee4\uff08\u5206\u4e3a\u667a\u80fd\u63a8\u9001\u3001\u624b\u52a8\u63a8\u9001\uff09\n* \u5224\u65ad\u680f\u76ee\u4fe1\u606f\n* \u673a\u578b\u4fe1\u606f\u5904\u7406\n* \u6d4b\u8bd5\u7ec8\u7aef\u4fe1\u606f\u5904\u7406\n* \u5730\u533a\u4fe1\u606f\u5904\u7406\n* \u9891\u9053\u4fe1\u606f\u5904\u7406\n* \u9ed1\u767d\u540d\u5355\u5904\u7406\n* \u6807\u7b7e\u4fe1\u606f\u5904\u7406  \u63a8\u9001\u6210\u529f\u8bb0\u5f55\u65e5\u5fd7\u4e0e\u5199\u5e93\uff1a  * \u5199\u5165mysql\n* \u5199\u5165\u4e13\u95e8\u65e5\u5fd7\u6587\u4ef6\uff0c\u4f7f\u7528Logstash\u6536\u96c6log\u3001Kibana\u5c55\u73b0\u63a8\u9001\u5386\u53f2\uff08\u7528\u6765\u505a\u5361\u7247\u63a8\u9001\u95ee\u9898\u6392\u67e5\uff09  \u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\uff1a  * \u8bb0\u5f55\u8bbf\u95ee\u4eba\u3001\u8bbf\u95eeIP\u3001\u8bbf\u95ee\u6765\u6e90\u3001\u8bbf\u95ee\u65f6\u95f4\uff0c\u4f7f\u7528kibana\u5c55\u73b0\u8bbf\u95ee\u63a5\u53e3\u60c5\u51b5  \u670d\u52a1\u76d1\u63a7\uff1a  \u76d1\u63a7\u670d\u52a1\u662f\u5426\u53ef\u7528\uff0c\u5982\u6709\u5f02\u5e38\u53d1\u9001\u77ed\u4fe1\u3001\u90ae\u7bb1\u63d0\u9192",
            "title": "\u7ec6\u8282\u70b9\uff1a"
        },
        {
            "location": "/xtztsj/",
            "text": "\u7cfb\u7edf\u6574\u4f53\u8bbe\u8ba1\u56fe",
            "title": "\u7cfb\u7edf\u6574\u4f53\u8bbe\u8ba1"
        },
        {
            "location": "/xtztsj/#_1",
            "text": "",
            "title": "\u7cfb\u7edf\u6574\u4f53\u8bbe\u8ba1\u56fe"
        },
        {
            "location": "/xq/",
            "text": "\u9700\u6c42\u80cc\u666f\n\n\n \u968f\u7740\u516c\u53f8\u4e1a\u52a1\u53d1\u5c55\uff0c\u73b0\u6709\u7684\u5361\u7247\u63a8\u9001\u903b\u8f91\u5df2\u7ecf\u5b8c\u5168\u4e0d\u6ee1\u8db3\u5feb\u901f\u8fed\u4ee3\u5f00\u53d1\uff0c\u4efb\u4f55\u5361\u7247\u6d88\u606f\u63a8\u9001\u4fee\u6539\u90fd\u4f1a\u7275\u626f\u5230\u5f88\u591a\u4e2a\u9879\u76ee\u7684\u4fee\u6539\n\n* \u5361\u7247\u5e73\u53f0 \uff08\u73b0\u5728\u8fd0\u8425\u7740\u7684\u5361\u7247\u540e\u53f0\u7cfb\u7edf\uff09\n* \u8001\u5b9a\u65f6\u4efb\u52a1(\u975e\u5e38\u53e4\u8001\u7684\u9879\u76ee\uff0c\u6ca1\u6709\u6e90\u7801)\n* \u626b\u8868\u4efb\u52a1 \uff08\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u7684\uff0c\u5b9a\u65f6\u626b\u63cf\u4efb\u52a1\uff09\n* \u4e3b\u52a8\u63a8\u8350 \uff08\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u7684\uff0c\u5b9a\u65f6\u626b\u63cf\u4efb\u52a1\uff09\n* \u65b0\u667a\u80fd\u63a8\u9001 \uff08\u57fa\u4e8equartz\u7684\u4efb\u52a1\uff09\n\n\u4e3a\u4e86\u9002\u5e94\u6d88\u606f\u63a8\u9001\u7684\u9891\u7e41\u6539\u52a8\u6240\u5f15\u8d77\u7684\u4f17\u591a\u9879\u76ee\u8c03\u6574\uff0c\u7edf\u4e00\u6d88\u606f\u63a8\u9001\u5e73\u53f0\u7684\u8bde\u751f\u8feb\u5728\u7709\u776b\u3002",
            "title": "\u80cc\u666f"
        },
        {
            "location": "/xq/#_1",
            "text": "\u968f\u7740\u516c\u53f8\u4e1a\u52a1\u53d1\u5c55\uff0c\u73b0\u6709\u7684\u5361\u7247\u63a8\u9001\u903b\u8f91\u5df2\u7ecf\u5b8c\u5168\u4e0d\u6ee1\u8db3\u5feb\u901f\u8fed\u4ee3\u5f00\u53d1\uff0c\u4efb\u4f55\u5361\u7247\u6d88\u606f\u63a8\u9001\u4fee\u6539\u90fd\u4f1a\u7275\u626f\u5230\u5f88\u591a\u4e2a\u9879\u76ee\u7684\u4fee\u6539\n\n* \u5361\u7247\u5e73\u53f0 \uff08\u73b0\u5728\u8fd0\u8425\u7740\u7684\u5361\u7247\u540e\u53f0\u7cfb\u7edf\uff09\n* \u8001\u5b9a\u65f6\u4efb\u52a1(\u975e\u5e38\u53e4\u8001\u7684\u9879\u76ee\uff0c\u6ca1\u6709\u6e90\u7801)\n* \u626b\u8868\u4efb\u52a1 \uff08\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u7684\uff0c\u5b9a\u65f6\u626b\u63cf\u4efb\u52a1\uff09\n* \u4e3b\u52a8\u63a8\u8350 \uff08\u57fa\u4e8e\u6570\u636e\u5e93\u8868\u7684\uff0c\u5b9a\u65f6\u626b\u63cf\u4efb\u52a1\uff09\n* \u65b0\u667a\u80fd\u63a8\u9001 \uff08\u57fa\u4e8equartz\u7684\u4efb\u52a1\uff09\n\n\u4e3a\u4e86\u9002\u5e94\u6d88\u606f\u63a8\u9001\u7684\u9891\u7e41\u6539\u52a8\u6240\u5f15\u8d77\u7684\u4f17\u591a\u9879\u76ee\u8c03\u6574\uff0c\u7edf\u4e00\u6d88\u606f\u63a8\u9001\u5e73\u53f0\u7684\u8bde\u751f\u8feb\u5728\u7709\u776b\u3002",
            "title": "\u9700\u6c42\u80cc\u666f"
        },
        {
            "location": "/xxmb/xxmb/",
            "text": "\u8be6\u7ec6\u8bbe\u8ba1\n\n\n\n\n\u73b0\u6709\u7684\u5361\u7247\u7c7b\u578b\uff1a\n\n\n\n\n\n\n\u6295\u7968\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n\n\n\u901a\u7528\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n\n\n\u7ade\u731c\u7b54\u9898 \n\u6d88\u606f\u6a21\u677f\n\n\n\u8282\u76ee\u5bfc\u89c6 \n\u6d88\u606f\u6a21\u677f\n\n\n\u793c\u54c1\u5546\u57ce\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n\n\n\u9884\u7ea6\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n\n\n\u66b4\u98ce\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n\n\n\u6a21\u5757\u5316\u5361\u7247 \n\u6d88\u606f\u6a21\u677f\n \u4e0d\u786e\u8ba4\u662f\u5426\u5728\u7528\uff0c\u62a2\u8d2d\u5361\u7247\u6709\u5173\u8054\uff1f\n\n\n\u4e3b\u52a8\u63a8\u8350\u5361\u7247 \u6b64\u5361\u7247\u5f88\u4e11\u964b,\u6d88\u606f\u683c\u5f0f\u597d\u4e71 \n\u6d88\u606f\u6a21\u677f\n\n\n\u5e7f\u544a\u5361\u7247 \u9057\u7559\u5361\u7247\uff0c\u4e0a\u7ebf\u540e\u672a\u4f7f\u7528\uff0c\u4e0d\u77e5\u9053\u4e3a\u5565 \n\u6d88\u606f\u6a21\u677f\n\n\nproduct.ftl\n\n\n\n\n\u5361\u7247\u7c7b\u578b\u5bf9\u5e94ID\u503c\u8868\u683c \n\u5bf9\u5e94\u8868\n\n\n\n\n\n\n\u6295\u7968\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n\n\n    <#import \"common.ftl\" as global/>\n    <#if push_sub_type == 1>\n        <#assign cmd =\"get_options\"/>\n    </#if>\n    <#if push_sub_type == 2>\n        <#assign cmd =\"get_result\"/>\n    </#if>\n    {\n        \"id\": \"${card.id?c}\",\n        \"type\": 16,\n        \"source\": \"backend_cards_vote\",\n        \"subType\": \"${push_sub_type}\",\n        \"description\": \"${global.now_time } push vote card\",\n        \"timestamp\": ${timeStamp?c},\n        <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n        \"compression\": ${global.compression},\n        \"data\": {\n            \"content\": {\n                <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n                \"id\": \"vote\",\n                <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n                \"min_version\": \"${global.min_version}\",\n                \"content\" : {\n                    \"url\": \"${global.server_domain}/cards/api/votes?action=votes&msg_type=1&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n                }\n            },\n            <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n            \"target_profile\": {\n                <#include \"product.ftl\"> \n                <#if terminal_limit??>\n                    \"terminal_limit\":\"${terminal_limit?c}\",\n                </#if>\n                <#if card.trigger_force??>\n                    <#if card.trigger_force == 0>\n                        \"enforcement\":\"false\",\n                    </#if>\n                    <#if card.trigger_force == 1>\n                        \"enforcement\":\"true\",\n                    </#if>\n                </#if>\n                <#--  \u975e\u70ed\u95e8\u6295\u7968\u63a8\u9001\u6d88\u606f\u65f6 \u9700\u8981tvid \u63a8\u9001\u7ed3\u679c\u4e0d\u9700\u8981 -->\n                <#if card.hot_vote == 0 && push_sub_type == 1 && card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\": \"${card.column_id?c}\",\n                <#else>\n                    <#if tv_list?? && push_sub_type == 1>\n                    \"tv_ids\":[\n                        <#list tv_list as tv>\n                            \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                        </#list>\n                    ],\n                    </#if>\n                </#if>\n                <#if labels_list??>\n                \"labels\":[\n                  <#list labels_list as label>\n                  \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                  </#list>\n                ],\n                </#if>\n                <#--  \u6307\u5b9a\u6295\u7968ID\uff08\u5361\u7247ID\uff09\u3002-->   \n                \"card_id\": \"${card.id?c}\" \n            }\n        }\n    }\n\n\n\n\n\n\n\u901a\u7528\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n\n    <#import \"common.ftl\" as global/>\n    <#if card.sub_type?? && card.sub_type == 2>\n        <#assign cmd =\"get_general_qrcode_card\"/>\n    <#else>\n        <#assign cmd =\"get_general_card\"/>\n    </#if>\n\n    {\n        \"id\": \"${card.id?c}\",\n        \"type\": 8,\n        \"source\": \"backend_cards_general\",\n        \"subType\": 1,\n        \"description\": \"${global.now_time } push general card\",\n        \"timestamp\": ${timeStamp?c},\n        <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n        \"compression\": ${global.compression},\n        \"data\": {\n            \"content\": {\n                <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n                \"id\": \"general\",\n                <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n                \"min_version\": \"${global.min_version}\",\n                \"content\" : {\n                    \"url\": \"${global.server_domain}/cards/api/instants?action=instants&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n                }\n            },\n            <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n            \"target_profile\": {\n                <#include \"product.ftl\"> \n                <#if terminal_limit??>\n                    \"terminal_limit\":\"${terminal_limit?c}\",\n                </#if>\n                <#if card.tv_id??>\n                    \"tv_id\": \"${card.tv_id?c}\",\n                  \"column_id\": \"${card.column_id?c}\",\n                <#else>\n                    <#if tv_list??>\n                    \"tv_ids\":[\n                         <#list tv_list as tv>\n                         \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                         </#list>\n                    ],\n                </#if>\n                </#if>\n                <#if area_list??>\n                    \"areas\":[\n                         <#list area_list as area>\n                         \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                         </#list>\n                    ],\n                </#if>\n                <#if labels_list??>\n                    \"labels\":[\n                    <#list labels_list as label>\n                        \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n                <#if user_ids??>\n                    \"user_ids\":[\n                     <#list user_ids as user_id>\n                         \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                    </#list>\n                    ],\n               </#if>\n               <#if user_groups_map??>\n                    <#list user_groups_map  as key>\n                        \"user_groups\":[\n                            \"${key.group_id?c}:${key.group_type?c}\"\n                            <#if key_has_next>,</#if>\n                        ]\n                    </#list>\n                </#if>\n               <#if card.online_delivery??>\n                    <#if card.online_delivery == 1>\n                        \"online_delivery\":\"true\",\n                    <#else>\n                        \"online_delivery\":\"false\",\n                    </#if>\n               </#if>\n               <#if card.expired_time??>\n                    \"expired_time\":\"${card.expired_time?string(\"yyyy-MM-dd HH:mm:ss\") }\",\n               </#if>\n                <#if card.trigger_force??>\n                    <#if card.trigger_force == 0>\n                        \"enforcement\":\"false\"\n                    </#if>\n                    <#if card.trigger_force == 1>\n                        \"enforcement\":\"true\"\n                    </#if>\n                </#if>\n            }\n        }\n    }\n\n\n\n\n\n\n\n\n\u9884\u7ea6\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.recommend_id?c}\",\n    \"type\": 10,\n    \"source\": \"backend_cards_subscribe\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push subscribe card\",\n    \"timestamp\": ${timeStamp?c},\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"subscribe\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/residents/?action=residents&cmd=get_subscribe_card&msg_type=1&recommend_id=${card.recommend_id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n            </#if>\n            \"card_id\": \"${card.recommend_id?c}\",\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}\n\n\n\n\n\n\n\n\n\u7ade\u731c\u7b54\u9898\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n<#if push_sub_type == 1>\n    <#assign cmd =\"get_question\"/>\n</#if>\n<#if push_sub_type == 2>\n    <#assign cmd =\"get_answer\"/>\n</#if>\n\n{\n    \"id\": \"${card.id?c}\",\n    <#--  \u5361\u7247\u6d88\u606f \u7ade\u731c\u7b54\u9898 \uff1a18 -->   \n    \"type\": 18,\n    <#--  \u5361\u7247\u5b50\u7c7b\u578b 1 \u6d88\u606f 2 \u7ed3\u679c-->   \n    \"source\": \"backend_cards_quiz\",\n    \"subType\": \"${push_sub_type}\",\n    \"description\": \"${global.now_time } \u63a8\u9001\u7ade\u731c\u7b54\u9898\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"quiz\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                    <#if push_sub_type == 1>\n                        \"url\": \"${global.server_domain}/cards/api/quiz?action=quiz&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\"\n                    </#if>\n                    <#if push_sub_type == 2>\n                        \"url\": \"${global.server_domain}/cards/api/quiz?action=quiz&type=c&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\"\n                    </#if>\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\",\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\",\n                </#if>\n            </#if>\n\n            <#--  \u6307\u5b9a\u7528\u6237\u5f53\u524d\u7684\u7535\u89c6\u53f0ID\u3002-->\n            <#--\u63a8\u9001\u6d88\u606f\u662f \u9700\u8981tvid\u548ccolumnid \u63a8\u9001\u7ed3\u679c\u65f6 \u4e0d\u9700\u8981-->\n            <#if card.tv_id?? && push_sub_type == 1>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\":\"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                    <#list tv_list as tv>\n                    \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if labels_list??>\n            \"labels\":[\n                <#list labels_list as label>\n                \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                    <#list user_ids as user_id>\n                    \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                    </#list>\n                ],\n            </#if>\n            <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                \"user_groups\":[\n                \"${key.group_id?c}:${key.group_type?c}\"\n                    <#if key_has_next>,</#if>\n                ]\n                </#list>\n            </#if>\n\n            <#--  \u6307\u5b9a\u6295\u7968ID\uff08\u5361\u7247ID\uff09\u3002-->   \n            \"card_id\": \"${card.id?c}\" \n        }\n    }\n}\n\n\n\n\n\n\n\u793c\u54c1\u5546\u57ce\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 13,\n    \"source\": \"backend_cards_integral_mall\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push mall card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            \"id\": \"points_mall\",\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/malls/?action=malls&cmd=get_mall_card&msg_type=1&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n            <#--  \u6307\u5b9a\u7528\u6237\u5f53\u524d\u7684\u7535\u89c6\u53f0ID\u3002-->\n            <#--\u63a8\u9001\u6d88\u606f\u662f \u9700\u8981tvid\u548ccolumnid \u63a8\u9001\u7ed3\u679c\u65f6 \u4e0d\u9700\u8981-->\n            <#if card.tv_id?? && push_sub_type == 1>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\":\"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                    <#list tv_list as tv>\n                    \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                    \"user_groups\":[\n                        \"${key.group_id?c}:${key.group_type?c}\"\n                        <#if key_has_next>,</#if>\n                    ]\n                </#list>\n            </#if>\n            \"card_id\": \"${card.id?c}\" \n        }\n    }\n}\n\n\n\n\n\n\n\u66b4\u98ce\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 24,\n    \"source\": \"backend_cards_storm\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push storm card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"recommend\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/recommends/?action=recommends&cmd=get_message&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n          <#include \"product.ftl\">\n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            \"tv_id\":\"${tv_id?c}\",\n            \"column_id\":\"${column_id?c}\",\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}\n\n\n\n\n\n\n\u5e7f\u544a\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n<#assign cmd =\"get_ad_card\"/>\n\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 27,\n    \"source\": \"backend_cards_ad\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push ad card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"ad\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain_adcard}?action=ad&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n              \"column_id\": \"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                     <#list tv_list as tv>\n                     \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                    \"user_groups\":[\n                        \"${key.group_id?c}:${key.group_type?c}\"\n                        <#if key_has_next>,</#if>\n                    ]\n                </#list>\n            </#if>\n           <#if card.online_delivery??>\n                <#if card.online_delivery == 1>\n                    \"online_delivery\":\"true\",\n                <#else>\n                    \"online_delivery\":\"false\",\n                </#if>\n           </#if>\n           <#if card.expired_time??>\n                \"expired_time\":\"${card.expired_time?string(\"yyyy-MM-dd HH:mm:ss\") }\",\n           </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}\n\n\n\n\n\n\nproduct.ftl \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n\"products\": [\n    <#if machine_map??>\n        <#list machine_map.keySet() as key>\n            {\n                <#--  \u4ea7\u54c1ID -->   \n                \"id\": \"${key?c}\",\n                <#--  \u8be5\u4ea7\u54c1\u4e0b\u7684\u76ee\u6807\u673a\u578b\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c-->   \n                <#--  \u90a3\u4e48\u9ed8\u8ba4\u4f1a\u5411\u8be5\u4ea7\u54c1\u4e0b\u7684\u6240\u6709\u673a\u578b\u63a8\u9001\u8be5\u5361\u7247\u3002-->   \n                \"models\": [\n                    <#if machine_map??>\n                        <#list machine_map.get(key) as item>\n                            <#if item.machine_type!= ''>\n                                \"${item.machine_type}\"\n                                <#if item_has_next>,</#if>\n                            </#if>\n                        </#list>\n                    </#if>\n                ]\n            }\n            <#if key_has_next>,</#if>\n        </#list>\n    </#if>\n],\n<#if card.test_product?? && card.test_product == 1>\n\"device_ids\": [\n   <#if test_product_list??>\n        <#list test_product_list as mac>\n            \"${mac}\"<#if mac_has_next>,</#if>\n        </#list>\n    </#if>\n],\n</#if>\n\n\n\n\n\n\n\u8282\u76ee\u5bfc\u89c6 \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": 0,\n    \"type\": 25,\n    \"source\": \"column_guide\",\n    \"subType\": 1,\n    \"description\": \"\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n        <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->\n            \"id\": \"column_guide\",\n        <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n            \"url\": \"http://tvtest.kuyun.com/cards/api/interface/programguide/intelligent_recommendation\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->\n        \"target_profile\": {\n            <#if tv_list??>\n            \"tv_ids\":[\n                <#list tv_list as tv>\n                \"${tv}\"<#if tv_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            \"stay_channel_time\" : \"60\",\n            \"enforcement\":\"false\"\n        }\n    }\n}\n\n\n\n\n\n\n\u4e3b\u52a8\u63a8\u8350\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": \"${detail.id?c}\",\n    \"type\": 8,\n    \"source\": \"schedule@general_recommend\",\n    \"subType\": 3,\n    \"description\": \"<#if detail.template_id==1>upcoming</#if><#if detail.template_id==2>hot</#if><#if detail.template_id==3>prolist</#if><#if detail.template_id==4>realtime</#if><#if detail.template_id==5>inflow</#if><#if detail.template_id==6>daily</#if><#if detail.template_id==7>rest</#if><#if detail.template_id==8>lunch</#if><#if detail.template_id==9>supper</#if><#if detail.template_id==10>recent_hot</#if>\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n        <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->\n            \"id\": \"general\",\n        <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n            \"url\": \"${global.server_domain}/cards/api/instants?action=instants&cmd=get_general_card_template&card_id=${detail.id?c}&template_id=${detail.template_id?c}&push_source=general_card_template&push_time=${timeStamp?c}\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->\n        \"target_profile\": {\n        <#if detail.test_product?? && detail.test_product == 1>\n            \"device_ids\": [\n            <#if test_product_list??>\n            <#list test_product_list as mac>\n                \"${mac}\"<#if mac_has_next>,</#if>\n            </#list>\n            </#if>\n            ],\n        </#if>\n            \"products\": [\n                <#if model_map??>\n                    <#list model_map.keySet() as key>\n                    {\n                    <#--  \u4ea7\u54c1ID -->\n                    \"id\": \"${key?c}\",\n                    <#--  \u8be5\u4ea7\u54c1\u4e0b\u7684\u76ee\u6807\u673a\u578b\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c-->\n                    <#--  \u90a3\u4e48\u9ed8\u8ba4\u4f1a\u5411\u8be5\u4ea7\u54c1\u4e0b\u7684\u6240\u6709\u673a\u578b\u63a8\u9001\u8be5\u5361\u7247\u3002-->\n                    \"models\": [\n                        <#if model_map??>\n                            <#list model_map.get(key) as item>\n                                <#if item!= '' && item!='0'>\n                                \"${item}\"<#if item_has_next>,</#if>\n                                </#if>\n                            </#list>\n                        </#if>\n                    ]\n                    }\n                        <#if key_has_next>,</#if>\n                    </#list>\n                </#if>\n            ],\n            <#if tv_list??>\n            \"tv_ids\":[\n                <#list tv_list as tv>\n                \"${tv}\"<#if tv_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if area_list??>\n            \"areas\":[\n                <#list area_list as area>\n                \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if limit_map??>\n            \"push_count_limit\": {\n                <#list limit_map.keySet() as key>\n                \"${key?c}\": \"${limit_map.get(key)?c}\"<#if key_has_next>,</#if>\n                </#list>\n            },\n            </#if>\n            \"template_id\":\"${detail.template_id?c}\",\n            \"push_hot_column_limit\" : <#if detail.template_id==2||detail.template_id==3||detail.template_id==6||detail.template_id==8||detail.template_id==9||detail.template_id==10>\"${detail.quantity?c}\"<#else>\"0\"</#if>,\n            \"push_global_interval_seconds\" : {\n              <#list interval_limit_map.keySet() as key>\n                \"${key?c}\": \"${interval_limit_map.get(key)?c}\"<#if key_has_next>,</#if>\n                </#list>\n            },\n            <#if detail.template_id!=1&&detail.template_id!=5>\n                <#if detail.push_over_time??>\n                    <#if detail.push_over_time!=0>\"stay_channel_time\" : \"${detail.push_over_time?c}\",</#if>\n                </#if>\n            </#if>\n            <#if detail.template_id==7>\n              <#if detail.push_interval_time!=0>\"push_card_interval_time\" : \"${detail.push_interval_time?c}\",</#if>\n            </#if>\n            \"enforcement\":\"false\"\n        }\n    }\n}\n\n\n\n\n\n\n\u6a21\u5757\u5316\u5361\u7247\u6d88\u606f\u683c\u5f0f \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n<#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": ${msg_type},\n    \"source\": \"backend_cards_components\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push components card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"${apk_id}\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}${api_url}&msg_type=1&push_time=${timeStamp?c}&combination_id=${card.id?c}&combination_time=${timeStamp?c}\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n              \"column_id\": \"${card.column_id?c}\",\n            <#else>\n                    <#if tv_list??>\n                    \"tv_ids\":[\n                       <#list tv_list as tv>\n                           \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                           </#list>\n                    ],\n                    </#if>\n            </#if>\n\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                  </#list>\n                ],\n           </#if>\n\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                  \"user_groups\":[\n                      \"${key.group_id?c}:${key.group_type?c}\"\n                  <#if key_has_next>,</#if>\n                  ]\n              </#list>\n            </#if>\n\n          <#if cardId??>\n          \"card_id\":\"${cardId?c}\",\n          </#if>\n\n            <#if card.triggerForce??>\n                <#if card.triggerForce == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.triggerForce == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}\n\n\n\n\n\n\n\u5361\u7247\u7c7b\u578b\u503c\u5bf9\u5e94\u8868 \n\u8fd4\u56de\u9876\u90e8\n\n\n\n\n\n\n\n\n\n\n\n\n\u7c7b\u578b\u540d\u79f0\n\n\n\u5b50\u7c7b\u578bID\n\n\n\u6d88\u606f\u7c7b\u578bID\n\n\n\n\n\n\n\n\n\n\n\u6eda\u7403\u4e0b\u6ce8\n\n\n1\n\n\n2\n\n\n\n\n\n\n\u6eda\u5b57\u5361\u7247\n\n\n2\n\n\n9\n\n\n\n\n\n\n\u901a\u7528\u5361\u7247\n\n\n3\n\n\n8\n\n\n\n\n\n\n\u5361\u7247\u5217\u8868\n\n\n4\n\n\n\u65e0\n\n\n\n\n\n\n\u8282\u76ee\u4fe1\u606f\n\n\n5\n\n\n12\n\n\n\n\n\n\n\u9884\u7ea6\u5361\u7247\n\n\n6\n\n\n10\n\n\n\n\n\n\n\u5373\u5c06\u64ad\u653e\n\n\n7\n\n\n\u65e0\n\n\n\n\n\n\n\u8bbe\u7f6e\u5361\u7247\n\n\n8\n\n\n\u65e0\n\n\n\n\n\n\n\u4e2a\u4eba\u4e2d\u5fc3\n\n\n9\n\n\n\u65e0\n\n\n\n\n\n\n\u793c\u54c1\u5546\u57ce\n\n\n10\n\n\n13\n\n\n\n\n\n\n\u5f39\u5e55\n\n\n11\n\n\n\u65e0\n\n\n\n\n\n\n\u4f53\u5f69\n\n\n12\n\n\n\u65e0\n\n\n\n\n\n\n\u6295\u7968\u5361\u7247\n\n\n13\n\n\n16\n\n\n\n\n\n\n\u62bd\u5956\n\n\n14\n\n\n\u65e0\n\n\n\n\n\n\n\u7ade\u731c\u7b54\u9898\n\n\n15\n\n\n18\n\n\n\n\n\n\n\u62a2\u8d2d\n\n\n16\n\n\n\u65e0\n\n\n\n\n\n\n\u7ea2\u5305\n\n\n22\n\n\n\u65e0\n\n\n\n\n\n\n\u6d3b\u52a8\n\n\n23\n\n\n\u65e0\n\n\n\n\n\n\n\u89c6\u9891\u63a8\u8350\n\n\n24\n\n\n24\n\n\n\n\n\n\n\u5361\u7247\u4e92\u8054\n\n\n25\n\n\n\u65e0\n\n\n\n\n\n\n\u5728\u7ebf\u64ad\u653e\n\n\n101\n\n\n\u65e0\n\n\n\n\n\n\n\u8282\u76ee\u5bfc\u89c6\n\n\n500\n\n\n25\n\n\n\n\n\n\n\u6e38\u620f\u4eba\u751f\n\n\n501\n\n\n26\n\n\n\n\n\n\n\u4e3b\u52a8\u63a8\u8350\n\n\n502\n\n\n\u65e0\n\n\n\n\n\n\n\u5e7f\u544a\u5361\u7247\n\n\n503\n\n\n27\n\n\n\n\n\n\n\u6a21\u5757\u5316\u5361\u7247\n\n\n504\n\n\n28",
            "title": "\u6d88\u606f\u6a21\u677f"
        },
        {
            "location": "/xxmb/xxmb/#_1",
            "text": "\u73b0\u6709\u7684\u5361\u7247\u7c7b\u578b\uff1a    \u6295\u7968\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u901a\u7528\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u7ade\u731c\u7b54\u9898  \u6d88\u606f\u6a21\u677f  \u8282\u76ee\u5bfc\u89c6  \u6d88\u606f\u6a21\u677f  \u793c\u54c1\u5546\u57ce\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u9884\u7ea6\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u66b4\u98ce\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u6a21\u5757\u5316\u5361\u7247  \u6d88\u606f\u6a21\u677f  \u4e0d\u786e\u8ba4\u662f\u5426\u5728\u7528\uff0c\u62a2\u8d2d\u5361\u7247\u6709\u5173\u8054\uff1f  \u4e3b\u52a8\u63a8\u8350\u5361\u7247 \u6b64\u5361\u7247\u5f88\u4e11\u964b,\u6d88\u606f\u683c\u5f0f\u597d\u4e71  \u6d88\u606f\u6a21\u677f  \u5e7f\u544a\u5361\u7247 \u9057\u7559\u5361\u7247\uff0c\u4e0a\u7ebf\u540e\u672a\u4f7f\u7528\uff0c\u4e0d\u77e5\u9053\u4e3a\u5565  \u6d88\u606f\u6a21\u677f  product.ftl   \u5361\u7247\u7c7b\u578b\u5bf9\u5e94ID\u503c\u8868\u683c  \u5bf9\u5e94\u8868    \u6295\u7968\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8         <#import \"common.ftl\" as global/>\n    <#if push_sub_type == 1>\n        <#assign cmd =\"get_options\"/>\n    </#if>\n    <#if push_sub_type == 2>\n        <#assign cmd =\"get_result\"/>\n    </#if>\n    {\n        \"id\": \"${card.id?c}\",\n        \"type\": 16,\n        \"source\": \"backend_cards_vote\",\n        \"subType\": \"${push_sub_type}\",\n        \"description\": \"${global.now_time } push vote card\",\n        \"timestamp\": ${timeStamp?c},\n        <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n        \"compression\": ${global.compression},\n        \"data\": {\n            \"content\": {\n                <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n                \"id\": \"vote\",\n                <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n                \"min_version\": \"${global.min_version}\",\n                \"content\" : {\n                    \"url\": \"${global.server_domain}/cards/api/votes?action=votes&msg_type=1&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n                }\n            },\n            <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n            \"target_profile\": {\n                <#include \"product.ftl\"> \n                <#if terminal_limit??>\n                    \"terminal_limit\":\"${terminal_limit?c}\",\n                </#if>\n                <#if card.trigger_force??>\n                    <#if card.trigger_force == 0>\n                        \"enforcement\":\"false\",\n                    </#if>\n                    <#if card.trigger_force == 1>\n                        \"enforcement\":\"true\",\n                    </#if>\n                </#if>\n                <#--  \u975e\u70ed\u95e8\u6295\u7968\u63a8\u9001\u6d88\u606f\u65f6 \u9700\u8981tvid \u63a8\u9001\u7ed3\u679c\u4e0d\u9700\u8981 -->\n                <#if card.hot_vote == 0 && push_sub_type == 1 && card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\": \"${card.column_id?c}\",\n                <#else>\n                    <#if tv_list?? && push_sub_type == 1>\n                    \"tv_ids\":[\n                        <#list tv_list as tv>\n                            \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                        </#list>\n                    ],\n                    </#if>\n                </#if>\n                <#if labels_list??>\n                \"labels\":[\n                  <#list labels_list as label>\n                  \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                  </#list>\n                ],\n                </#if>\n                <#--  \u6307\u5b9a\u6295\u7968ID\uff08\u5361\u7247ID\uff09\u3002-->   \n                \"card_id\": \"${card.id?c}\" \n            }\n        }\n    }   \u901a\u7528\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    \n    <#import \"common.ftl\" as global/>\n    <#if card.sub_type?? && card.sub_type == 2>\n        <#assign cmd =\"get_general_qrcode_card\"/>\n    <#else>\n        <#assign cmd =\"get_general_card\"/>\n    </#if>\n\n    {\n        \"id\": \"${card.id?c}\",\n        \"type\": 8,\n        \"source\": \"backend_cards_general\",\n        \"subType\": 1,\n        \"description\": \"${global.now_time } push general card\",\n        \"timestamp\": ${timeStamp?c},\n        <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n        \"compression\": ${global.compression},\n        \"data\": {\n            \"content\": {\n                <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n                \"id\": \"general\",\n                <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n                \"min_version\": \"${global.min_version}\",\n                \"content\" : {\n                    \"url\": \"${global.server_domain}/cards/api/instants?action=instants&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n                }\n            },\n            <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n            \"target_profile\": {\n                <#include \"product.ftl\"> \n                <#if terminal_limit??>\n                    \"terminal_limit\":\"${terminal_limit?c}\",\n                </#if>\n                <#if card.tv_id??>\n                    \"tv_id\": \"${card.tv_id?c}\",\n                  \"column_id\": \"${card.column_id?c}\",\n                <#else>\n                    <#if tv_list??>\n                    \"tv_ids\":[\n                         <#list tv_list as tv>\n                         \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                         </#list>\n                    ],\n                </#if>\n                </#if>\n                <#if area_list??>\n                    \"areas\":[\n                         <#list area_list as area>\n                         \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                         </#list>\n                    ],\n                </#if>\n                <#if labels_list??>\n                    \"labels\":[\n                    <#list labels_list as label>\n                        \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n                <#if user_ids??>\n                    \"user_ids\":[\n                     <#list user_ids as user_id>\n                         \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                    </#list>\n                    ],\n               </#if>\n               <#if user_groups_map??>\n                    <#list user_groups_map  as key>\n                        \"user_groups\":[\n                            \"${key.group_id?c}:${key.group_type?c}\"\n                            <#if key_has_next>,</#if>\n                        ]\n                    </#list>\n                </#if>\n               <#if card.online_delivery??>\n                    <#if card.online_delivery == 1>\n                        \"online_delivery\":\"true\",\n                    <#else>\n                        \"online_delivery\":\"false\",\n                    </#if>\n               </#if>\n               <#if card.expired_time??>\n                    \"expired_time\":\"${card.expired_time?string(\"yyyy-MM-dd HH:mm:ss\") }\",\n               </#if>\n                <#if card.trigger_force??>\n                    <#if card.trigger_force == 0>\n                        \"enforcement\":\"false\"\n                    </#if>\n                    <#if card.trigger_force == 1>\n                        \"enforcement\":\"true\"\n                    </#if>\n                </#if>\n            }\n        }\n    }    \u9884\u7ea6\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.recommend_id?c}\",\n    \"type\": 10,\n    \"source\": \"backend_cards_subscribe\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push subscribe card\",\n    \"timestamp\": ${timeStamp?c},\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"subscribe\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/residents/?action=residents&cmd=get_subscribe_card&msg_type=1&recommend_id=${card.recommend_id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n            </#if>\n            \"card_id\": \"${card.recommend_id?c}\",\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}    \u7ade\u731c\u7b54\u9898\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n<#if push_sub_type == 1>\n    <#assign cmd =\"get_question\"/>\n</#if>\n<#if push_sub_type == 2>\n    <#assign cmd =\"get_answer\"/>\n</#if>\n\n{\n    \"id\": \"${card.id?c}\",\n    <#--  \u5361\u7247\u6d88\u606f \u7ade\u731c\u7b54\u9898 \uff1a18 -->   \n    \"type\": 18,\n    <#--  \u5361\u7247\u5b50\u7c7b\u578b 1 \u6d88\u606f 2 \u7ed3\u679c-->   \n    \"source\": \"backend_cards_quiz\",\n    \"subType\": \"${push_sub_type}\",\n    \"description\": \"${global.now_time } \u63a8\u9001\u7ade\u731c\u7b54\u9898\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"quiz\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                    <#if push_sub_type == 1>\n                        \"url\": \"${global.server_domain}/cards/api/quiz?action=quiz&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\"\n                    </#if>\n                    <#if push_sub_type == 2>\n                        \"url\": \"${global.server_domain}/cards/api/quiz?action=quiz&type=c&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\"\n                    </#if>\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\",\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\",\n                </#if>\n            </#if>\n\n            <#--  \u6307\u5b9a\u7528\u6237\u5f53\u524d\u7684\u7535\u89c6\u53f0ID\u3002-->\n            <#--\u63a8\u9001\u6d88\u606f\u662f \u9700\u8981tvid\u548ccolumnid \u63a8\u9001\u7ed3\u679c\u65f6 \u4e0d\u9700\u8981-->\n            <#if card.tv_id?? && push_sub_type == 1>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\":\"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                    <#list tv_list as tv>\n                    \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if labels_list??>\n            \"labels\":[\n                <#list labels_list as label>\n                \"${label.labelId?c}\"<#if label_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                    <#list user_ids as user_id>\n                    \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                    </#list>\n                ],\n            </#if>\n            <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                \"user_groups\":[\n                \"${key.group_id?c}:${key.group_type?c}\"\n                    <#if key_has_next>,</#if>\n                ]\n                </#list>\n            </#if>\n\n            <#--  \u6307\u5b9a\u6295\u7968ID\uff08\u5361\u7247ID\uff09\u3002-->   \n            \"card_id\": \"${card.id?c}\" \n        }\n    }\n}   \u793c\u54c1\u5546\u57ce\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 13,\n    \"source\": \"backend_cards_integral_mall\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push mall card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            \"id\": \"points_mall\",\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/malls/?action=malls&cmd=get_mall_card&msg_type=1&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n            <#--  \u6307\u5b9a\u7528\u6237\u5f53\u524d\u7684\u7535\u89c6\u53f0ID\u3002-->\n            <#--\u63a8\u9001\u6d88\u606f\u662f \u9700\u8981tvid\u548ccolumnid \u63a8\u9001\u7ed3\u679c\u65f6 \u4e0d\u9700\u8981-->\n            <#if card.tv_id?? && push_sub_type == 1>\n                \"tv_id\": \"${card.tv_id?c}\",\n                \"column_id\":\"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                    <#list tv_list as tv>\n                    \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                    </#list>\n                ],\n                </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                    \"user_groups\":[\n                        \"${key.group_id?c}:${key.group_type?c}\"\n                        <#if key_has_next>,</#if>\n                    ]\n                </#list>\n            </#if>\n            \"card_id\": \"${card.id?c}\" \n        }\n    }\n}   \u66b4\u98ce\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 24,\n    \"source\": \"backend_cards_storm\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push storm card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"recommend\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}/cards/api/recommends/?action=recommends&cmd=get_message&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n          <#include \"product.ftl\">\n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            \"tv_id\":\"${tv_id?c}\",\n            \"column_id\":\"${column_id?c}\",\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}   \u5e7f\u544a\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n<#assign cmd =\"get_ad_card\"/>\n\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": 27,\n    \"source\": \"backend_cards_ad\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push ad card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"ad\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain_adcard}?action=ad&cmd=${cmd}&card_id=${card.id?c}&push_time=${timeStamp?c}\" \n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n            <#if terminal_limit??>\n                \"terminal_limit\":\"${terminal_limit?c}\",\n            </#if>\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n              \"column_id\": \"${card.column_id?c}\",\n            <#else>\n                <#if tv_list??>\n                \"tv_ids\":[\n                     <#list tv_list as tv>\n                     \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n            </#if>\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                </#list>\n                ],\n           </#if>\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                    \"user_groups\":[\n                        \"${key.group_id?c}:${key.group_type?c}\"\n                        <#if key_has_next>,</#if>\n                    ]\n                </#list>\n            </#if>\n           <#if card.online_delivery??>\n                <#if card.online_delivery == 1>\n                    \"online_delivery\":\"true\",\n                <#else>\n                    \"online_delivery\":\"false\",\n                </#if>\n           </#if>\n           <#if card.expired_time??>\n                \"expired_time\":\"${card.expired_time?string(\"yyyy-MM-dd HH:mm:ss\") }\",\n           </#if>\n            <#if card.trigger_force??>\n                <#if card.trigger_force == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.trigger_force == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}   product.ftl  \u8fd4\u56de\u9876\u90e8    \"products\": [\n    <#if machine_map??>\n        <#list machine_map.keySet() as key>\n            {\n                <#--  \u4ea7\u54c1ID -->   \n                \"id\": \"${key?c}\",\n                <#--  \u8be5\u4ea7\u54c1\u4e0b\u7684\u76ee\u6807\u673a\u578b\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c-->   \n                <#--  \u90a3\u4e48\u9ed8\u8ba4\u4f1a\u5411\u8be5\u4ea7\u54c1\u4e0b\u7684\u6240\u6709\u673a\u578b\u63a8\u9001\u8be5\u5361\u7247\u3002-->   \n                \"models\": [\n                    <#if machine_map??>\n                        <#list machine_map.get(key) as item>\n                            <#if item.machine_type!= ''>\n                                \"${item.machine_type}\"\n                                <#if item_has_next>,</#if>\n                            </#if>\n                        </#list>\n                    </#if>\n                ]\n            }\n            <#if key_has_next>,</#if>\n        </#list>\n    </#if>\n],\n<#if card.test_product?? && card.test_product == 1>\n\"device_ids\": [\n   <#if test_product_list??>\n        <#list test_product_list as mac>\n            \"${mac}\"<#if mac_has_next>,</#if>\n        </#list>\n    </#if>\n],\n</#if>   \u8282\u76ee\u5bfc\u89c6  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": 0,\n    \"type\": 25,\n    \"source\": \"column_guide\",\n    \"subType\": 1,\n    \"description\": \"\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n        <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->\n            \"id\": \"column_guide\",\n        <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n            \"url\": \"http://tvtest.kuyun.com/cards/api/interface/programguide/intelligent_recommendation\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->\n        \"target_profile\": {\n            <#if tv_list??>\n            \"tv_ids\":[\n                <#list tv_list as tv>\n                \"${tv}\"<#if tv_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            \"stay_channel_time\" : \"60\",\n            \"enforcement\":\"false\"\n        }\n    }\n}   \u4e3b\u52a8\u63a8\u8350\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": \"${detail.id?c}\",\n    \"type\": 8,\n    \"source\": \"schedule@general_recommend\",\n    \"subType\": 3,\n    \"description\": \"<#if detail.template_id==1>upcoming</#if><#if detail.template_id==2>hot</#if><#if detail.template_id==3>prolist</#if><#if detail.template_id==4>realtime</#if><#if detail.template_id==5>inflow</#if><#if detail.template_id==6>daily</#if><#if detail.template_id==7>rest</#if><#if detail.template_id==8>lunch</#if><#if detail.template_id==9>supper</#if><#if detail.template_id==10>recent_hot</#if>\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->\n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n        <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->\n            \"id\": \"general\",\n        <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->\n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n            \"url\": \"${global.server_domain}/cards/api/instants?action=instants&cmd=get_general_card_template&card_id=${detail.id?c}&template_id=${detail.template_id?c}&push_source=general_card_template&push_time=${timeStamp?c}\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->\n        \"target_profile\": {\n        <#if detail.test_product?? && detail.test_product == 1>\n            \"device_ids\": [\n            <#if test_product_list??>\n            <#list test_product_list as mac>\n                \"${mac}\"<#if mac_has_next>,</#if>\n            </#list>\n            </#if>\n            ],\n        </#if>\n            \"products\": [\n                <#if model_map??>\n                    <#list model_map.keySet() as key>\n                    {\n                    <#--  \u4ea7\u54c1ID -->\n                    \"id\": \"${key?c}\",\n                    <#--  \u8be5\u4ea7\u54c1\u4e0b\u7684\u76ee\u6807\u673a\u578b\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u3002\u5982\u679c\u4e0d\u6307\u5b9a\uff0c-->\n                    <#--  \u90a3\u4e48\u9ed8\u8ba4\u4f1a\u5411\u8be5\u4ea7\u54c1\u4e0b\u7684\u6240\u6709\u673a\u578b\u63a8\u9001\u8be5\u5361\u7247\u3002-->\n                    \"models\": [\n                        <#if model_map??>\n                            <#list model_map.get(key) as item>\n                                <#if item!= '' && item!='0'>\n                                \"${item}\"<#if item_has_next>,</#if>\n                                </#if>\n                            </#list>\n                        </#if>\n                    ]\n                    }\n                        <#if key_has_next>,</#if>\n                    </#list>\n                </#if>\n            ],\n            <#if tv_list??>\n            \"tv_ids\":[\n                <#list tv_list as tv>\n                \"${tv}\"<#if tv_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if area_list??>\n            \"areas\":[\n                <#list area_list as area>\n                \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                </#list>\n            ],\n            </#if>\n            <#if limit_map??>\n            \"push_count_limit\": {\n                <#list limit_map.keySet() as key>\n                \"${key?c}\": \"${limit_map.get(key)?c}\"<#if key_has_next>,</#if>\n                </#list>\n            },\n            </#if>\n            \"template_id\":\"${detail.template_id?c}\",\n            \"push_hot_column_limit\" : <#if detail.template_id==2||detail.template_id==3||detail.template_id==6||detail.template_id==8||detail.template_id==9||detail.template_id==10>\"${detail.quantity?c}\"<#else>\"0\"</#if>,\n            \"push_global_interval_seconds\" : {\n              <#list interval_limit_map.keySet() as key>\n                \"${key?c}\": \"${interval_limit_map.get(key)?c}\"<#if key_has_next>,</#if>\n                </#list>\n            },\n            <#if detail.template_id!=1&&detail.template_id!=5>\n                <#if detail.push_over_time??>\n                    <#if detail.push_over_time!=0>\"stay_channel_time\" : \"${detail.push_over_time?c}\",</#if>\n                </#if>\n            </#if>\n            <#if detail.template_id==7>\n              <#if detail.push_interval_time!=0>\"push_card_interval_time\" : \"${detail.push_interval_time?c}\",</#if>\n            </#if>\n            \"enforcement\":\"false\"\n        }\n    }\n}   \u6a21\u5757\u5316\u5361\u7247\u6d88\u606f\u683c\u5f0f  \u8fd4\u56de\u9876\u90e8    <#import \"common.ftl\" as global/>\n{\n    \"id\": \"${card.id?c}\",\n    \"type\": ${msg_type},\n    \"source\": \"backend_cards_components\",\n    \"subType\": 1,\n    \"description\": \"${global.now_time } push components card\",\n    \"timestamp\": ${timeStamp?c},\n    <#--  data\u7684\u538b\u7f29\u65b9\u5f0f 0\uff1a\u65e0\u538b\u7f29 1\uff1aMessagePack -->   \n    \"compression\": ${global.compression},\n    \"data\": {\n        \"content\": {\n            <#--  \u5361\u7247ID\uff0c\u7531\u5ba2\u6237\u7aef\u6307\u5b9a -->   \n            \"id\": \"${apk_id}\",\n            <#--  \u6700\u5c0f\u7248\u672c\uff0c\u76ee\u524d\u9ed8\u8ba4\u4e3a1 -->   \n            \"min_version\": \"${global.min_version}\",\n            \"content\" : {\n                \"url\": \"${global.server_domain}${api_url}&msg_type=1&push_time=${timeStamp?c}&combination_id=${card.id?c}&combination_time=${timeStamp?c}\"\n            }\n        },\n        <#--  \u6d88\u606f\u76ee\u6807\u4eba\u7fa4\u8096\u50cf\u5c5e\u6027-->   \n        \"target_profile\": {\n            <#include \"product.ftl\"> \n\n            <#if card.tv_id??>\n                \"tv_id\": \"${card.tv_id?c}\",\n              \"column_id\": \"${card.column_id?c}\",\n            <#else>\n                    <#if tv_list??>\n                    \"tv_ids\":[\n                       <#list tv_list as tv>\n                           \"${tv.tv_id?c}\"<#if tv_has_next>,</#if>\n                           </#list>\n                    ],\n                    </#if>\n            </#if>\n\n            <#if area_list??>\n                \"areas\":[\n                     <#list area_list as area>\n                     \"${area.area_id?c}\"<#if area_has_next>,</#if>\n                     </#list>\n                ],\n            </#if>\n\n            <#if user_ids??>\n                \"user_ids\":[\n                 <#list user_ids as user_id>\n                     \"${user_id?c}\"<#if user_id_has_next>,</#if>\n                  </#list>\n                ],\n           </#if>\n\n           <#if user_groups_map??>\n                <#list user_groups_map  as key>\n                  \"user_groups\":[\n                      \"${key.group_id?c}:${key.group_type?c}\"\n                  <#if key_has_next>,</#if>\n                  ]\n              </#list>\n            </#if>\n\n          <#if cardId??>\n          \"card_id\":\"${cardId?c}\",\n          </#if>\n\n            <#if card.triggerForce??>\n                <#if card.triggerForce == 0>\n                    \"enforcement\":\"false\"\n                </#if>\n                <#if card.triggerForce == 1>\n                    \"enforcement\":\"true\"\n                </#if>\n            </#if>\n        }\n    }\n}   \u5361\u7247\u7c7b\u578b\u503c\u5bf9\u5e94\u8868  \u8fd4\u56de\u9876\u90e8       \u7c7b\u578b\u540d\u79f0  \u5b50\u7c7b\u578bID  \u6d88\u606f\u7c7b\u578bID      \u6eda\u7403\u4e0b\u6ce8  1  2    \u6eda\u5b57\u5361\u7247  2  9    \u901a\u7528\u5361\u7247  3  8    \u5361\u7247\u5217\u8868  4  \u65e0    \u8282\u76ee\u4fe1\u606f  5  12    \u9884\u7ea6\u5361\u7247  6  10    \u5373\u5c06\u64ad\u653e  7  \u65e0    \u8bbe\u7f6e\u5361\u7247  8  \u65e0    \u4e2a\u4eba\u4e2d\u5fc3  9  \u65e0    \u793c\u54c1\u5546\u57ce  10  13    \u5f39\u5e55  11  \u65e0    \u4f53\u5f69  12  \u65e0    \u6295\u7968\u5361\u7247  13  16    \u62bd\u5956  14  \u65e0    \u7ade\u731c\u7b54\u9898  15  18    \u62a2\u8d2d  16  \u65e0    \u7ea2\u5305  22  \u65e0    \u6d3b\u52a8  23  \u65e0    \u89c6\u9891\u63a8\u8350  24  24    \u5361\u7247\u4e92\u8054  25  \u65e0    \u5728\u7ebf\u64ad\u653e  101  \u65e0    \u8282\u76ee\u5bfc\u89c6  500  25    \u6e38\u620f\u4eba\u751f  501  26    \u4e3b\u52a8\u63a8\u8350  502  \u65e0    \u5e7f\u544a\u5361\u7247  503  27    \u6a21\u5757\u5316\u5361\u7247  504  28",
            "title": "\u8be6\u7ec6\u8bbe\u8ba1"
        },
        {
            "location": "/yzyq/",
            "text": "\u6821\u9a8c\u5185\u5bb9\n\n\n\n\n\u5f00\u5173\u63a7\u5236\u8fc7\u6ee4\u5668\n\n\n\u63a8\u9001\u6b21\u6570\u8fc7\u6ee4\n\n\n\u5224\u65ad\u680f\u76ee\u4fe1\u606f\n\n\n\u673a\u578b\u4fe1\u606f\u5904\u7406\n\n\n\u6d4b\u8bd5\u7ec8\u7aef\u4fe1\u606f\u5904\u7406\n\n\n\u5730\u533a\u4fe1\u606f\n\n\n\u9891\u9053\u4fe1\u606f\u5904\u7406\n\n\n\u5904\u7406\u9ed1\u767d\u540d\u5355\n\n\n\u5904\u7406\u6807\u7b7e\u4fe1\u606f\n\n\n\u5904\u7406\u793c\u54c1\u5546\u57ce\u63a8\u9001\u5ba1\u6838\u67e5\u8be2\n\n\nmd5\u6821\u9a8c",
            "title": "\u9a8c\u8bc1\u5f15\u64ce"
        },
        {
            "location": "/yzyq/#_1",
            "text": "\u5f00\u5173\u63a7\u5236\u8fc7\u6ee4\u5668  \u63a8\u9001\u6b21\u6570\u8fc7\u6ee4  \u5224\u65ad\u680f\u76ee\u4fe1\u606f  \u673a\u578b\u4fe1\u606f\u5904\u7406  \u6d4b\u8bd5\u7ec8\u7aef\u4fe1\u606f\u5904\u7406  \u5730\u533a\u4fe1\u606f  \u9891\u9053\u4fe1\u606f\u5904\u7406  \u5904\u7406\u9ed1\u767d\u540d\u5355  \u5904\u7406\u6807\u7b7e\u4fe1\u606f  \u5904\u7406\u793c\u54c1\u5546\u57ce\u63a8\u9001\u5ba1\u6838\u67e5\u8be2  md5\u6821\u9a8c",
            "title": "\u6821\u9a8c\u5185\u5bb9"
        },
        {
            "location": "/\u5b89\u5168\u8ba4\u8bc1/aqrz/",
            "text": "\u5b89\u5168\u8ba4\u8bc1\u673a\u5236\n\n\n\n\n\n\n\u7b7e\u540d\u673a\u5236\uff1a\u5c06\u00a0Token\u00a0\u548c\u00a0\u65f6\u95f4\u6233\u00a0\u52a0\u4e0a\u5176\u4ed6\u8bf7\u6c42\u53c2\u6570\u518d\u7528MD5\u6216SHA-1\u7b97\u6cd5\uff08\u53ef\u6839\u636e\u60c5\u51b5\u52a0\u70b9\u76d0\uff09\u52a0\u5bc6\uff0c\u52a0\u5bc6\u540e\u7684\u6570\u636e\u5c31\u662f\u672c\u6b21\u8bf7\u6c42\u7684\u7b7e\u540dsign\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u4ee5\u540c\u6837\u7684\u7b97\u6cd5\u5f97\u5230\u7b7e\u540d\uff0c\u5e76\u8ddf\u5f53\u524d\u7684\u7b7e\u540d\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5982\u679c\u4e0d\u4e00\u6837\uff0c\u8bf4\u660e\u53c2\u6570\u88ab\u66f4\u6539\u8fc7\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\u6807\u8bc6\u3002\u7b7e\u540d\u673a\u5236\u4fdd\u8bc1\u4e86\u6570\u636e\u4e0d\u4f1a\u88ab\u7be1\u6539\u3002\n\n\n\n\n\n\n\u7b7e\u540d\u7b97\u6cd5\uff1a\u4f7f\u7528http\u8bf7\u6c42\u5f00\u5934\u6dfb\u52a0secret\u3001\u8bbf\u95eeIP\u3001\u65f6\u95f4\u6233\u62fc\u63a5\u540e\u7ecf\u8fc7md5\u52a0\u5bc6\u5f97\u5230sign\u503c\n\n\n\n\nmd5(secret+\u8bbf\u95eeIP+\u65f6\u95f4\u6233)\n    \nsecret \u4f7f\u7528\u9879\u76ee\u72ec\u7acbID\uff08\u9879\u76ee\u63a5\u5165\u65f6\u5019\u5206\u914d\u9879\u76ee\u7684secret\uff09 \u63d0\u4f9b\u63a5\u53e3\u7528\u4e8e\u751f\u6210secret",
            "title": "\u5b89\u5168\u8ba4\u8bc1"
        },
        {
            "location": "/\u5b89\u5168\u8ba4\u8bc1/aqrz/#_1",
            "text": "\u7b7e\u540d\u673a\u5236\uff1a\u5c06\u00a0Token\u00a0\u548c\u00a0\u65f6\u95f4\u6233\u00a0\u52a0\u4e0a\u5176\u4ed6\u8bf7\u6c42\u53c2\u6570\u518d\u7528MD5\u6216SHA-1\u7b97\u6cd5\uff08\u53ef\u6839\u636e\u60c5\u51b5\u52a0\u70b9\u76d0\uff09\u52a0\u5bc6\uff0c\u52a0\u5bc6\u540e\u7684\u6570\u636e\u5c31\u662f\u672c\u6b21\u8bf7\u6c42\u7684\u7b7e\u540dsign\uff0c\u670d\u52a1\u7aef\u63a5\u6536\u5230\u8bf7\u6c42\u540e\u4ee5\u540c\u6837\u7684\u7b97\u6cd5\u5f97\u5230\u7b7e\u540d\uff0c\u5e76\u8ddf\u5f53\u524d\u7684\u7b7e\u540d\u8fdb\u884c\u6bd4\u5bf9\uff0c\u5982\u679c\u4e0d\u4e00\u6837\uff0c\u8bf4\u660e\u53c2\u6570\u88ab\u66f4\u6539\u8fc7\uff0c\u76f4\u63a5\u8fd4\u56de\u9519\u8bef\u6807\u8bc6\u3002\u7b7e\u540d\u673a\u5236\u4fdd\u8bc1\u4e86\u6570\u636e\u4e0d\u4f1a\u88ab\u7be1\u6539\u3002    \u7b7e\u540d\u7b97\u6cd5\uff1a\u4f7f\u7528http\u8bf7\u6c42\u5f00\u5934\u6dfb\u52a0secret\u3001\u8bbf\u95eeIP\u3001\u65f6\u95f4\u6233\u62fc\u63a5\u540e\u7ecf\u8fc7md5\u52a0\u5bc6\u5f97\u5230sign\u503c   md5(secret+\u8bbf\u95eeIP+\u65f6\u95f4\u6233)\n     secret \u4f7f\u7528\u9879\u76ee\u72ec\u7acbID\uff08\u9879\u76ee\u63a5\u5165\u65f6\u5019\u5206\u914d\u9879\u76ee\u7684secret\uff09 \u63d0\u4f9b\u63a5\u53e3\u7528\u4e8e\u751f\u6210secret",
            "title": "\u5b89\u5168\u8ba4\u8bc1\u673a\u5236"
        },
        {
            "location": "/db/",
            "text": "db\u8bbe\u8ba1\n\n\n\n\n\u63a5\u5165\u7cfb\u7edf\u6743\u9650\u8868\uff1aapp_secret\n\n\n\n\nCREATE TABLE `app_secret` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `app` varchar(200) DEFAULT NULL COMMENT 'app\u540d\u79f0(\u6839\u636e\u6b64\u751f\u6210secret)',\n  `secret` varchar(200) DEFAULT NULL COMMENT '\u751f\u6210\u7684secret',\n  `status` int(1) DEFAULT NULL COMMENT '\u72b6\u60010\u65e0\u65481\u6709\u6548',\n  `operator_ip` varchar(100) DEFAULT NULL COMMENT '\u6dfb\u52a0\u8005IP',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u6dfb\u52a0\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\n\n\n\n\n\u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\u8868\uff1aaccess_logs\n\n\n\n\nCREATE TABLE `access_logs` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `access_ip` varchar(100) DEFAULT NULL COMMENT '\u8bbf\u95eeIP',\n  `card_id` int(200) DEFAULT NULL COMMENT '\u5361\u7247ID',\n  `card_type` int(20) DEFAULT NULL COMMENT '\u5361\u7247\u7c7b\u578b',\n  `push_type` int(1) DEFAULT NULL COMMENT '0\u624b\u52a81\u81ea\u52a8',\n  `app_secret` varchar(100) DEFAULT NULL COMMENT 'app\u5bc6\u94a5',\n  `time` int(100) DEFAULT NULL COMMENT '\u65f6\u95f4\u6233',\n  `sign` varchar(1000) DEFAULT NULL COMMENT 'sign\u503c',\n  `operator_id` int(100) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4ebaID',\n  `operator_name` varchar(200) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4eba',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u64cd\u4f5c\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\n\n\n\n\n\u6d88\u606f\u63a8\u9001\u6210\u529f\u5386\u53f2\u8868\uff1acards_push_history\n\n\n\n\nCREATE TABLE `cards_push_history` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `card_id` int(20) DEFAULT NULL COMMENT '\u5361\u7247ID',\n  `card_type` int(20) DEFAULT NULL COMMENT '\u5361\u7247\u7c7b\u578b',\n  `card_name` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u5361\u7247\u540d\u79f0',\n  `push_type` tinyint(4) DEFAULT NULL COMMENT '\u63a8\u9001\u7c7b\u578b',\n  `push_time` datetime DEFAULT NULL COMMENT '\u63a8\u9001\u65f6\u95f4',\n  `push_ip` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u63a8\u9001\u8005IP',\n  `app_secret` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT 'app secret',\n  `push_sign` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT 'sign\u503c',\n  `target_profile` text COLLATE utf8_bin COMMENT '\u76ee\u6807\u7fa4\u4f53\u5c5e\u6027\uff0cJSON\u683c\u5f0f\u6570\u636e',\n  `status` tinyint(4) DEFAULT NULL COMMENT '\u63a8\u9001\u72b6\u6001\uff0c0\uff1a\u672a\u6267\u884c\uff1b1\uff1a\u5df2\u6210\u529f\u6267\u884c\uff1b-1\uff1a\u5df2\u6267\u884c\uff0c\u672a\u6210\u529f',\n  `operator_id` int(20) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4ebaID',\n  `operator_name` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u64cd\u4f5c\u4eba\u540d\u79f0',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u64cd\u4f5c\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;",
            "title": "db\u8bbe\u8ba1"
        },
        {
            "location": "/db/#db",
            "text": "\u63a5\u5165\u7cfb\u7edf\u6743\u9650\u8868\uff1aapp_secret   CREATE TABLE `app_secret` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `app` varchar(200) DEFAULT NULL COMMENT 'app\u540d\u79f0(\u6839\u636e\u6b64\u751f\u6210secret)',\n  `secret` varchar(200) DEFAULT NULL COMMENT '\u751f\u6210\u7684secret',\n  `status` int(1) DEFAULT NULL COMMENT '\u72b6\u60010\u65e0\u65481\u6709\u6548',\n  `operator_ip` varchar(100) DEFAULT NULL COMMENT '\u6dfb\u52a0\u8005IP',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u6dfb\u52a0\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;   \u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\u8868\uff1aaccess_logs   CREATE TABLE `access_logs` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `access_ip` varchar(100) DEFAULT NULL COMMENT '\u8bbf\u95eeIP',\n  `card_id` int(200) DEFAULT NULL COMMENT '\u5361\u7247ID',\n  `card_type` int(20) DEFAULT NULL COMMENT '\u5361\u7247\u7c7b\u578b',\n  `push_type` int(1) DEFAULT NULL COMMENT '0\u624b\u52a81\u81ea\u52a8',\n  `app_secret` varchar(100) DEFAULT NULL COMMENT 'app\u5bc6\u94a5',\n  `time` int(100) DEFAULT NULL COMMENT '\u65f6\u95f4\u6233',\n  `sign` varchar(1000) DEFAULT NULL COMMENT 'sign\u503c',\n  `operator_id` int(100) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4ebaID',\n  `operator_name` varchar(200) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4eba',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u64cd\u4f5c\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;   \u6d88\u606f\u63a8\u9001\u6210\u529f\u5386\u53f2\u8868\uff1acards_push_history   CREATE TABLE `cards_push_history` (\n  `id` int(11) unsigned NOT NULL AUTO_INCREMENT,\n  `card_id` int(20) DEFAULT NULL COMMENT '\u5361\u7247ID',\n  `card_type` int(20) DEFAULT NULL COMMENT '\u5361\u7247\u7c7b\u578b',\n  `card_name` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u5361\u7247\u540d\u79f0',\n  `push_type` tinyint(4) DEFAULT NULL COMMENT '\u63a8\u9001\u7c7b\u578b',\n  `push_time` datetime DEFAULT NULL COMMENT '\u63a8\u9001\u65f6\u95f4',\n  `push_ip` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u63a8\u9001\u8005IP',\n  `app_secret` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT 'app secret',\n  `push_sign` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT 'sign\u503c',\n  `target_profile` text COLLATE utf8_bin COMMENT '\u76ee\u6807\u7fa4\u4f53\u5c5e\u6027\uff0cJSON\u683c\u5f0f\u6570\u636e',\n  `status` tinyint(4) DEFAULT NULL COMMENT '\u63a8\u9001\u72b6\u6001\uff0c0\uff1a\u672a\u6267\u884c\uff1b1\uff1a\u5df2\u6210\u529f\u6267\u884c\uff1b-1\uff1a\u5df2\u6267\u884c\uff0c\u672a\u6210\u529f',\n  `operator_id` int(20) DEFAULT NULL COMMENT '\u64cd\u4f5c\u4ebaID',\n  `operator_name` varchar(200) COLLATE utf8_bin DEFAULT NULL COMMENT '\u64cd\u4f5c\u4eba\u540d\u79f0',\n  `operator_time` datetime DEFAULT NULL COMMENT '\u64cd\u4f5c\u65f6\u95f4',\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin;",
            "title": "db\u8bbe\u8ba1"
        },
        {
            "location": "/log_format/",
            "text": "\u4e3b\u8981\u65e5\u5fd7\u683c\u5f0f\n\n\n\n\n\u8bbf\u95ee\u65e5\u5fd7\u683c\u5f0f\n\n\n\n\n    access_ip|card_id|card_type|push_type|app_secret|time|sign|operator_id|operator_name|operator_time\n\n\n\n\n\n\n\u63a8\u9001\u6210\u529f\u5386\u53f2\u65e5\u5fd7\u683c\u5f0f\n\n\n\n\n    card_id|card_type|card_name|push_type|push_time|push_ip|app_secret|push_sign|target_profile|status|operator_id|operator_name|operator_time",
            "title": "\u65e5\u5fd7\u683c\u5f0f"
        },
        {
            "location": "/log_format/#_1",
            "text": "\u8bbf\u95ee\u65e5\u5fd7\u683c\u5f0f       access_ip|card_id|card_type|push_type|app_secret|time|sign|operator_id|operator_name|operator_time   \u63a8\u9001\u6210\u529f\u5386\u53f2\u65e5\u5fd7\u683c\u5f0f       card_id|card_type|card_name|push_type|push_time|push_ip|app_secret|push_sign|target_profile|status|operator_id|operator_name|operator_time",
            "title": "\u4e3b\u8981\u65e5\u5fd7\u683c\u5f0f"
        },
        {
            "location": "/api/",
            "text": "api\u89c4\u8303\n\n\n(1).\u83b7\u53d6secret\u63a5\u53e3\n\n\n/generate_secret\n\n\n\u8bf7\u6c42\u53c2\u6570\uff1a\n\n\n\n\n\n\n\n\n\u53c2\u6570\u540d\n\n\n\u5fc5\u9009\n\n\n\u8bf4\u660e\n\n\n\n\n\n\n\n\n\n\napp\n\n\n\u662f\n\n\napp\u540d\u79f0,\u56fa\u5b9a\u5b57\u7b26\n\n\n\n\n\n\noparator_id\n\n\n\u662f\n\n\n\u64cd\u4f5c\u4ebaID\n\n\n\n\n\n\noparator_name\n\n\n\u662f\n\n\n\u64cd\u4f5c\u4eba\u540d\u79f0\n\n\n\n\n\n\n\n\n\u54cd\u5e94\uff1a\n\n\n{\n\"result-code\": \"0\",\n\"version\": \"1.0\",\n\"cmd\": \"/generate_secret\",\n\"msg\": \"OK\",\n\"timestamp\": \"2016-02-01 19:49:29\",\n\"data\": {\n    \"secret\":\"sd3lsd3\"\n}\n\n\n\n\n(2).\u63a8\u9001\u63a5\u53e3\n\n\n/push_cards_message\n\n\n\u8bf7\u6c42\u53c2\u6570\uff1a\n\n\n\n\n\n\n\n\n\u53c2\u6570\u540d\n\n\n\u5fc5\u9009\n\n\n\u8bf4\u660e\n\n\n\n\n\n\n\n\n\n\ncard_id\n\n\n\u662f\n\n\n\u5361\u7247ID\n\n\n\n\n\n\ncard_type\n\n\n\u662f\n\n\n\u5361\u7247\u7c7b\u578b\n\n\n\n\n\n\npush_type\n\n\n\u662f\n\n\n\u63a8\u9001\u7c7b\u578b0\u624b\u52a81\u81ea\u52a8\n\n\n\n\n\n\napp_secret\n\n\n\u662f\n\n\n\u83b7\u53d6\u7684\u5bc6\u94a5\n\n\n\n\n\n\ntime\n\n\n\u662f\n\n\n\u65f6\u95f4\u6233\n\n\n\n\n\n\nsign\n\n\n\u662f\n\n\nsign\u503c\uff0c\u9a8c\u8bc1\u4f7f\u7528\n\n\n\n\n\n\noparator_id\n\n\n\u662f\n\n\n\u64cd\u4f5c\u4ebaID\n\n\n\n\n\n\noparator_name\n\n\n\u662f\n\n\n\u64cd\u4f5c\u4eba\u540d\u79f0\n\n\n\n\n\n\noperator_time\n\n\n\u662f\n\n\n\u63a8\u9001\u65f6\u95f4\n\n\n\n\n\n\n\n\n\u54cd\u5e94\uff1a\n\n\n{\n\"result-code\": \"0\",\n\"version\": \"1.0\",\n\"msg\": \"OK\",\n\"timestamp\": \"2016-02-01 19:49:29\",\n\"data\": {\n\n}\n\u8bf4\u660e\uff1aresult-code \u503c\u542b\u610f\uff1a0 \u4ee3\u8868\u63a8\u9001\u6210\u529f 1001 \u4ee3\u8868\u9a8c\u8bc1\u6743\u9650\u5931\u8d25 1002 \u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8d85\u65f6 1003 \u53c2\u6570\u7f3a\u5931 -1 \u672a\u77e5\u5f02\u5e38",
            "title": "api\u89c4\u8303"
        },
        {
            "location": "/api/#api",
            "text": "",
            "title": "api\u89c4\u8303"
        },
        {
            "location": "/api/#1secret",
            "text": "/generate_secret  \u8bf7\u6c42\u53c2\u6570\uff1a     \u53c2\u6570\u540d  \u5fc5\u9009  \u8bf4\u660e      app  \u662f  app\u540d\u79f0,\u56fa\u5b9a\u5b57\u7b26    oparator_id  \u662f  \u64cd\u4f5c\u4ebaID    oparator_name  \u662f  \u64cd\u4f5c\u4eba\u540d\u79f0     \u54cd\u5e94\uff1a  {\n\"result-code\": \"0\",\n\"version\": \"1.0\",\n\"cmd\": \"/generate_secret\",\n\"msg\": \"OK\",\n\"timestamp\": \"2016-02-01 19:49:29\",\n\"data\": {\n    \"secret\":\"sd3lsd3\"\n}",
            "title": "(1).\u83b7\u53d6secret\u63a5\u53e3"
        },
        {
            "location": "/api/#2",
            "text": "/push_cards_message  \u8bf7\u6c42\u53c2\u6570\uff1a     \u53c2\u6570\u540d  \u5fc5\u9009  \u8bf4\u660e      card_id  \u662f  \u5361\u7247ID    card_type  \u662f  \u5361\u7247\u7c7b\u578b    push_type  \u662f  \u63a8\u9001\u7c7b\u578b0\u624b\u52a81\u81ea\u52a8    app_secret  \u662f  \u83b7\u53d6\u7684\u5bc6\u94a5    time  \u662f  \u65f6\u95f4\u6233    sign  \u662f  sign\u503c\uff0c\u9a8c\u8bc1\u4f7f\u7528    oparator_id  \u662f  \u64cd\u4f5c\u4ebaID    oparator_name  \u662f  \u64cd\u4f5c\u4eba\u540d\u79f0    operator_time  \u662f  \u63a8\u9001\u65f6\u95f4     \u54cd\u5e94\uff1a  {\n\"result-code\": \"0\",\n\"version\": \"1.0\",\n\"msg\": \"OK\",\n\"timestamp\": \"2016-02-01 19:49:29\",\n\"data\": {\n\n}\n\u8bf4\u660e\uff1aresult-code \u503c\u542b\u610f\uff1a0 \u4ee3\u8868\u63a8\u9001\u6210\u529f 1001 \u4ee3\u8868\u9a8c\u8bc1\u6743\u9650\u5931\u8d25 1002 \u670d\u52a1\u5668\u7aef\u54cd\u5e94\u8d85\u65f6 1003 \u53c2\u6570\u7f3a\u5931 -1 \u672a\u77e5\u5f02\u5e38",
            "title": "(2).\u63a8\u9001\u63a5\u53e3"
        }
    ]
}